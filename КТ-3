<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
<xsl:output method="html" encoding="utf-8" indent="yes"/>


<xsl:key name="byteacher" match="course" use="teacher"/>
<xsl:key name="bytopic" match="course" use="topics/topic"/>

<xsl:param name="teacher" select="'Борисов И.О.'"/>
<xsl:param name="topxml" select="'XML'"/>
<xsl:param name="topxslt" select="'XSLT'"/>

<xsl:template match="/">
<html>
<head>
    <title>Наши курсы</title>
    <meta charset="utf-8"/>
</head>
<body>
    <h1>Наши курсы</h1>

    <h3>читает <xsl:value-of select="$teacher"/></h3>
    <ul>
        <xsl:for-each select="key('byteacher', $teacher)">
            <li><xsl:value-of select="title"/></li>
        </xsl:for-each>
    </ul>

    <h3>используют <xsl:value-of select="$topxml"/></h3>
    <ul>
        <xsl:for-each select="key('bytopic', $topxml)">
            <li><xsl:value-of select="title"/></li>
        </xsl:for-each>
    </ul>

    <h3>читает <xsl:value-of select="$teacher"/>, есть тема <xsl:value-of select="$topxslt"/></h3>
    <ul>
        <xsl:for-each select="key('byteacher', $teacher)[topics/topic = $topxslt]">
            <li><xsl:value-of select="title"/></li>
        </xsl:for-each>
    </ul>
</body>
</html>
